{"version":3,"sources":["components/hook/useInterval.js","components/coinPrice/index.js","App.js","reportWebVitals.js","index.js"],"names":["useInterval","callback","delay","savedCallback","React","useRef","useEffect","current","id","setInterval","clearInterval","coinList","value","name","theme","borderColor","Wrapper","styled","div","p","opacity","Fixed","SecretButton","Container","StyledSelect","select","Button","SpeechWrap","CoinPrice","useState","coin","setCoin","data","setData","setDelay","rate","setRate","currencyRef","checked","setChecked","search","_coin","a","axios","get","Date","getTime","res","newData","console","log","closing_price","document","getElementsByTagName","click","getRate","setOpacity","onOpacityChange","newOpacity","parseFloat","opening_price","toFixed","onChange","e","target","map","item","toLocaleString","style","fontSize","marginLeft","acc_trade_value_24H","Math","round","onClick","newDelay","size","height","type","marginTop","color","textAlign","fontWeight","href","bind","this","displayText","stop","pause","resume","text","lang","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8181d532.chunk.js","sourcesContent":["import React, {useEffect, useState, useRef} from 'react'\r\nconst useInterval = (callback, delay) => {\r\n    const savedCallback = React.useRef();\r\n  \r\n    React.useEffect(() => {\r\n      savedCallback.current = callback;\r\n    }, [callback]);\r\n  \r\n    React.useEffect(() => {\r\n      const tick = () => {\r\n        savedCallback.current();\r\n      }\r\n      if (delay !== null) {\r\n        let id = setInterval(tick, delay);\r\n        return () => clearInterval(id);\r\n      }\r\n    }, [delay]);\r\n  };\r\n  export default useInterval","import React, {useEffect, useState, useRef} from 'react'\r\nimport axios, {cacheAdapterEnhancer} from 'axios'\r\nimport Speech from 'react-speech';\r\nimport styled from 'styled-components'\r\nimport useInterval from '../hook/useInterval'\r\nimport {\r\n    BsBrightnessHigh,\r\n    BsMoon,\r\n    BsFillPlayFill, BsFillStopFill} from 'react-icons/bs'\r\nimport {GiSpeaker, GiSpeakerOff} from 'react-icons/gi'\r\n\r\nconst coinList = [\r\n    {value: 'BLY', name: 'BLY 블로서리' },    \r\n    {value: 'BTC', name: 'BTC 비트코인' },\r\n    {value: 'ETH', name: 'ETH 이더리움' },    \r\n    {value: 'XRP', name: 'XRP 리플' },\r\n    {value: 'EOS', name: 'EOS 이오스' },\r\n    {value: 'MANA', name: 'MANA 디센트럴랜드' },\r\n    {value: 'ADA', name: 'ADA 에이다' },\r\n    {value: 'RSR', name: 'RSR 리저브라이트' },\r\n    \r\n]\r\n\r\nconst theme = 'white'\r\nconst borderColor = '#505050'\r\n\r\nconst Wrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100vh;    \r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n\r\n    opacity: ${p => p.opacity};\r\n`\r\n\r\nconst Fixed = styled.div`\r\n    margin-top: 30px;\r\n    display: flex;    \r\n    opacity: 0.5;\r\n    color: white;\r\n`\r\n\r\nconst SecretButton = styled.div`\r\n    color: ${theme};\r\n    font-size: 25px;\r\n    // margin-left: 20px;\r\n    width: 50px;\r\n    height: 50px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: 0.2s;\r\n    // border-radius: 50%;\r\n    opacity: 0.7;\r\n    &:active {\r\n        background-color: ${borderColor};\r\n    }\r\n`;\r\n\r\nconst Container = styled.div`      \r\n\r\n    opacity: ${p => p.opacity};\r\n    color: ${theme};    \r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    & > * {\r\n        margin-bottom: 10px;\r\n    }    \r\n    & > *:last-child {\r\n        margin: 0;\r\n    }\r\n\r\n    //가격\r\n    & > *:nth-child(2){\r\n        font-size: 25px;\r\n        line-height: 40px;\r\n        margin-bottom: 0;        \r\n    }\r\n    //24시간 거래량\r\n    & > *:nth-child(3){\r\n        font-size: 15px;\r\n    }\r\n\r\n    //스피커 버튼 컨테이너\r\n    & > *:nth-child(4){\r\n        display: flex;\r\n        align-items: flex-end;\r\n    }\r\n`\r\n\r\nconst StyledSelect = styled.select`\r\n    background-color: black;  \r\n    color: ${theme};  \r\n    font-size: 13px;\r\n    border: 0;\r\n    // padding: 8px;\r\n`\r\nconst Button = styled.div`\r\n    // width: 100px;\r\n    // font-size: 14px;\r\n    // min-height: 30px;\r\n    // line-height: 30px;\r\n    // border-radius: 20px;\r\n    // border: 1px solid ${borderColor};    \r\n    cursor: pointer;        \r\n`\r\n\r\nconst SpeechWrap = styled.div`\r\n    visibility: hidden\r\n`;\r\n\r\n\r\nconst DELAY = 10000 //10초\r\n\r\nfunction CoinPrice() {\r\n\r\n    const [coin, setCoin] = useState(coinList[0].value)\r\n    const [data, setData] = useState()\r\n    const [delay, setDelay] = useState(DELAY)\r\n    const [rate, setRate] = useState(0)\r\n    const currencyRef = useRef()\r\n    const [checked, setChecked] = useState(false)\r\n\r\n    useEffect(() => {    \r\n        search(coin)\r\n    }, [])\r\n\r\n    useInterval(() => {        \r\n        search(coin)     \r\n    }, delay)\r\n  \r\n    const search = async (_coin) => {\r\n\r\n      const res = await axios.get(`https://api.bithumb.com/public/ticker/${_coin}_KRW` + '_' + new Date().getTime());\r\n              \r\n        const newData = res.data.data\r\n        \r\n        // if(currencyRef.current != newData.closing_price){\r\n            setData(newData)       \r\n             \r\n        // }\r\n\r\n        \r\n        // if(data){        \r\n        //     if(newData.closing_price !== data.closing_price) {\r\n        //         document.getElementsByTagName('button')[0].click()       \r\n        //     }\r\n        // }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log('===='+currencyRef.current)\r\n        if(data) {\r\n            console.log(currencyRef.current)\r\n            if(data.closing_price != currencyRef.current) {\r\n                currencyRef.current = data.closing_price\r\n                document.getElementsByTagName('button')[0].click()       \r\n            }\r\n        }\r\n    },[data])\r\n\r\n    useEffect(() => {\r\n        if(data){\r\n            setRate(getRate())\r\n        }\r\n    }, [data])\r\n\r\n    const toggle = () => {        \r\n        const newDelay = delay ? null : DELAY\r\n        \r\n        //인터벌 시작 or 종료\r\n        setDelay(newDelay)              \r\n\r\n        //시작 하면 바로 한번 조회\r\n        if(newDelay) {\r\n            search(coin)\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n\r\n    const onSelectChange = (e) => {\r\n        setCoin(e.target.value)    \r\n        \r\n        search(e.target.value)\r\n    }\r\n\r\n    const [opacity, setOpacity] = useState(1)\r\n\r\n    const onOpacityChange = (value) => {\r\n        let newOpacity = opacity + value\r\n        if(newOpacity > 1){\r\n            newOpacity = 1\r\n        }\r\n        if(newOpacity < 0) {\r\n            newOpacity = 0\r\n        }\r\n        setOpacity(newOpacity)\r\n    }\r\n\r\n    //등락 퍼센트\r\n    const getRate = () => {\r\n        const closing_price  = parseFloat(data.closing_price)\r\n        const opening_price = parseFloat(data.opening_price)        \r\n        const now_price = closing_price - opening_price\r\n        const rate = (now_price / opening_price) * 100\r\n        return parseFloat(rate.toFixed(2));\r\n    }\r\n\r\n    const handleChange = () => {\r\n        setChecked(!checked);\r\n      };\r\n\r\n    if(!data) return null\r\n  \r\n    return (\r\n\r\n        <>\r\n        \r\n        {/* <div style={{color: 'white'}}>\r\n        {opacity}\r\n        </div> */}\r\n        \r\n        \r\n        <Wrapper>\r\n            <Container opacity={opacity}>                \r\n\r\n                <StyledSelect onChange={onSelectChange}>\r\n                    {coinList.map(item => <option value={item.value}>{item.name}</option>)}\r\n                </StyledSelect>\r\n                <div>\r\n                    <b>{parseFloat(data.closing_price).toLocaleString('ko-KR')}원</b>\r\n                    <span style={{fontSize: 16, marginLeft: 10}}>\r\n                        {rate > 0 && '+'}{rate}%\r\n                    </span>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        parseFloat(data.acc_trade_value_24H) > 1000000 ? \r\n                        `${Math.round((parseFloat(data.acc_trade_value_24H) / 1000000), 0).toLocaleString('ko-KR')}백만` :                        \r\n                        Math.round((parseFloat(data.acc_trade_value_24H)), 0).toLocaleString('ko-KR')\r\n                    }\r\n                    \r\n                </div>\r\n\r\n                \r\n                <div>\r\n                    <Button onClick={toggle}>\r\n                    {\r\n                        delay ? <GiSpeaker size={30}/> : <GiSpeakerOff size={30} />\r\n                    }\r\n                    </Button>                \r\n                    <label style={{height: 30, marginLeft: 10}}>\r\n                        <input type=\"checkbox\" \r\n                            checked={checked}\r\n                            onChange={handleChange}\r\n                        />\r\n                        %\r\n                    </label>\r\n                </div>\r\n                \r\n\r\n\r\n\r\n                <div style={{marginTop: 16, color: theme, textAlign:'center', fontSize: 12, fontWeight: 'lighter'}}>존버는 승리한다 - made by Jaden</div>\r\n                <div style={{marginTop: 5, textAlign:'center', fontSize: 12}}>\r\n                    <a style={{color: theme}} href=\"mailto:ksmark8543@naver.com\">contact me</a>\r\n                </div>                \r\n            </Container>\r\n            \r\n            \r\n            <Fixed>\r\n                <SecretButton onClick={onOpacityChange.bind(this, -0.2)}>\r\n                    <BsMoon />\r\n                </SecretButton>\r\n                <SecretButton onClick={onOpacityChange.bind(this, 0.2)}>\r\n                    <BsBrightnessHigh />                    \r\n                </SecretButton>\r\n{/* \r\n                <SecretButton onClick={toggle}>                \r\n                    {\r\n                        delay ? <GiSpeaker size={30}/> : <GiSpeakerOff size={30} />\r\n                    }\r\n                </SecretButton>\r\n                <SecretButton>       \r\n                    <label style={{fontSize: 15}}>\r\n                        <input type=\"checkbox\" \r\n                            checked={checked}\r\n                            onChange={handleChange}\r\n                        />\r\n                        {` %`}\r\n                    </label>\r\n                </SecretButton> */}\r\n\r\n\r\n            </Fixed>\r\n\r\n\r\n\r\n            <SpeechWrap >\r\n                <Speech        \r\n                    displayText={false}\r\n                    stop={true}\r\n                    pause={true}\r\n                    resume={true}\r\n                    // textAsButton={true}\r\n                    // voice='Daniel'\r\n                    // lang={'en'}\r\n                    text={\r\n                        parseFloat(data.closing_price).toLocaleString('ko-KR') + '원 ' +                         \r\n                        (checked ? (getRate() > 0 ? '플러스' : '') + getRate().toLocaleString() +'%' : '')\r\n                    }\r\n                    lang={'ko-KR'}                    \r\n                />\r\n            </SpeechWrap>\r\n        </Wrapper>\r\n\r\n        \r\n\r\n\r\n        \r\n        </>\r\n    );\r\n}\r\n  \r\nexport default CoinPrice","import {useEffect, useState} from 'react'\nimport CoinPrice from './components/coinPrice'\nimport css from './App.css'\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <div>\n        <CoinPrice />\n      </div>      \n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}